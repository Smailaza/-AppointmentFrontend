(()=>{var __webpack_exports__={};window.listen=function(e,t,n){$(document).on(e,t,n)},window.listenClick=function(e,t){$(document).on("click",e,t)},window.listenSubmit=function(e,t){$(document).on("submit",e,t)},window.listenChange=function(e,t){$(document).on("change",e,t)},window.listenKeyup=function(e,t){$(document).on("keyup",e,t)},window.listenHiddenBsModal=function(e,t){$(document).on("hidden.bs.modal",e,t)},(()=>{document.addEventListener("turbo:load",loadCustomData);var source=null;function initAllComponents(){refreshCsrfToken(),alertInitialize(),modalInputFocus(),inputFocus(),tooltip()}function alertInitialize(){$(".alert").delay(5e3).slideUp(300)}function refreshCsrfToken(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})}function tooltip(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}))}document.addEventListener("turbo:load",initAllComponents);var inputFocus=function(){$('input:text:not([readonly="readonly"]):not([name="search"])').first().focus()},modalInputFocus=function(){$((function(){$(".modal").on("shown.bs.modal",(function(){$(this).find("input:text")[0]&&$(this).find("input:text")[0].focus()}))}))};function loadCustomData(){$(document).find(".nav-item.dropdown ul li").hasClass("active")&&($(document).find(".nav-item.dropdown ul li.active").parent("ul").css("display","block"),$(document).find(".nav-item.dropdown ul li.active").parent("ul").parent("li").addClass("active"));var e=(new Date).getTimezoneOffset();e=0===e?0:-e,document.cookie="timezone_offset_minutes="+e}function deleteItemAjax(url,header){var callFunction=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;$.ajax({url,type:"DELETE",dataType:"json",success:function success(obj){obj.success&&(Livewire.dispatch("refresh"),Livewire.dispatch("resetPageTable")),swal({icon:"success",confirmButtonColor:"#ADB5BD",title:deleteMsg+" !",text:header+" "+hasBeenDeleted,buttons:{confirm:Lang.get("js.ok")},timer:2e3}),callFunction&&eval(callFunction)},error:function(e){swal({title:"Error",icon:"error",text:e.responseJSON.message,type:"error",timer:4e3})}})}window.hideDropdownManually=function(e){e.removeClass("show")},listen("select2:open",(function(){var e=document.querySelectorAll(".select2-container--open .select2-search__field");e[e.length-1].focus()})),listen("focus",".select2.select2-container",(function(e){var t=e.originalEvent,n=$(this).find(".select2-selection--single").length>0;t&&n&&$(this).siblings("select:enabled").select2("open")})),toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},window.resetModalForm=function(e,t){$(e)[0].reset(),$("select.select2Selector").each((function(e,t){var n="#"+$(this).attr("id");$(n).val(""),$(n).trigger("change")})),$(t).hide()},window.printErrorMessage=function(e,t){$(e).show().html(""),$(e).text(t.responseJSON.message)},window.manageAjaxErrors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"editValidationErrorsBox";404==e.status?toastr.error(e.responseJSON.message):printErrorMessage("#"+t,e)},window.displaySuccessMessage=function(e){toastr.success(e,Lang.get("js.successful"))},window.displayErrorMessage=function(e){toastr.error(e,Lang.get("js.something_went_wrong"))},window.deleteItem=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;swal({title:Lang.get("js.delete"),text:Lang.get("js.sure_delete")+' "'+t+'"  ?',buttons:{confirm:Lang.get("js.yes"),cancel:Lang.get("js.no")},icon:sweetAlertIcon,reverseButtons:!0}).then((function(o){o&&deleteItemAjax(e,t,n)}))},window.format=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MMM-YYYY";return moment(e).format(t)},window.processingBtn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=$(e).find(t);"loading"===n?o.button("loading"):o.button("reset")},window.setBtnLoader=function(e){if(e.attr("data-old-text"))return e.html(e.attr("data-old-text")).prop("disabled",!1),void e.removeAttr("data-old-text");e.attr("data-old-text",e.text()),e.html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>').prop("disabled",!0)},window.prepareTemplateRender=function(e,t){return jsrender.templates(e).render(t)},window.isValidFile=function(e,t){var n=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(n,["gif","png","jpg","jpeg"])?($(e).val(""),$(t).removeClass("d-none"),$(t).html("The image must be a file of type: jpeg, jpg, png.").show(),$(t).delay(5e3).slideUp(300),!1):($(t).hide(),!0)},window.displayPhoto=function(e,t){var n=!0;if(e.files&&e.files[0]){var o=new FileReader;o.onload=function(e){var o=new Image;o.src=e.target.result,o.onload=function(){$(t).attr("src",e.target.result),n=!0}},n&&(o.readAsDataURL(e.files[0]),$(t).show())}},window.removeCommas=function(e){return e.replace(/,/g,"")},window.DatetimepickerDefaults=function(e){return $.extend({},{sideBySide:!0,ignoreReadonly:!0,icons:{close:"fa fa-times",time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-clock-o",clear:"fa fa-trash-o"}},e)},window.isEmpty=function(e){return null==e||""===e},window.urlValidation=function(e,t){return!(""!=e&&!e.match(t))},$(window).width()>992&&$(".no-hover").on("click",(function(){$(this).toggleClass("open")})),window.preparedTemplate=function(){source=$("#actionTemplate").html(),window.preparedTemplate=Handlebars.compile(source)},window.ajaxCallInProgress=function(){ajaxCallIsRunning=!0},window.ajaxCallCompleted=function(){ajaxCallIsRunning=!1},window.avoidSpace=function(e){if(32==(e?e.which:window.event.keyCode))return!1},$("input[type=radio][name=gender]").on("change",(function(){var e=$("#profilePicture").val();isEmpty(e)&&(1==this.value?$(".image-input-wrapper").attr("style","background-image:url("+manAvatar+")"):2==this.value&&$(".image-input-wrapper").attr("style","background-image:url("+womanAvatar+")"))})),window.setBtnLoader=function(e){if(e.attr("data-old-text"))return e.html(e.attr("data-old-text")).prop("disabled",!1),void e.removeAttr("data-old-text");e.attr("data-old-text",e.text()),e.html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>').prop("disabled",!0)},window.addCommas=function(e){for(var t=(e+="").split("."),n=t[0],o=t.length>1?"."+t[1]:"",a=/(\d+)(\d{3})/;a.test(n);)n=n.replace(a,"$1,$2");return n+o},window.getFormattedPrice=function(e){if(""!=e||e>0)return"number"!=typeof e&&(e=e.replace(/,/g,"")),addCommas(e)},listenClick(".change-type",(function(e){var t=$(this).siblings(),n=t.attr("type");"password"==(isEmpty(n)?"password":n)?($(this).children().addClass("fa-eye"),$(this).children().removeClass("fa-eye-slash"),t.attr("type","text")):($(this).children().removeClass("fa-eye"),$(this).children().addClass("fa-eye-slash"),t.attr("type","password"))})),$(".dropdown-menu a").on("click",(function(){$(this).closest(".dropdown-menu").prev().dropdown("toggle")})),listenClick(".cancel-scheduled-event",(function(){var e=$(this).attr("data-id");$("#scheduleEventId").val(e),$("#cancelScheduleEventModal").modal("show").appendTo("body")})),window.customDisplayErrorMessage=function(e){toastr.error(e,Lang.get("Error"))},listenSubmit("#cancelScheduleEventForm",(function(e){e.preventDefault();var t=$("#cancelReason").val();if(isEmpty(t))return customDisplayErrorMessage(Lang.get("js.cancel_reason_required")),!1;if(!/\S/.test(t))return customDisplayErrorMessage(Lang.get("js.cancel_reason_cannot_space")),!1;var n=$("#scheduleEventId").val();$.ajax({url:route("cancel.scheduled.event",n),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(Livewire.dispatch("refresh"),$("#cancelScheduleEventModal").modal("hide"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenHiddenBsModal("#cancelScheduleEventModal",(function(){resetModalForm("#cancelScheduleEventForm","#cancelValidationErrorsBox")})),listenClick(".copy-google-meet-link",(function(){var e=$("<input>");$("body").append(e),e.val($(this).attr("data-link")).select(),document.execCommand("copy"),e.remove(),$(this).children().css("color","#8BC34A"),$(this).children().removeClass("fa-copy"),$(this).children().addClass("fa-check"),displaySuccessMessage(Lang.get("js.linked_copy_successfully")),setTimeout((function(){$(".copy-google-meet-link").children().removeClass("fa-check"),$(".copy-google-meet-link").children().addClass("fa-copy"),$(".copy-google-meet-link").children().css("color","#009ef7")}),2e3)}))})(),document.addEventListener("turbo:load",(function(){!function(){if(!$("#phoneNumber").length)return!1;var e=document.querySelector("#phoneNumber"),t=document.querySelector("#error-msg"),n=document.querySelector("#valid-msg");$("#valid-msg").length>0&&setTimeout((function(){$("#valid-msg").addClass("d-none")}),10);var o=[Lang.get("js.invalid_number"),Lang.get("js.invalid_country_code"),Lang.get("js.too_short"),Lang.get("js.too_long"),Lang.get("js.invalid_number")],a=window.intlTelInput(e,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,preferredCountries:!1,geoIpLookup:function(e,t){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){var n=t&&t.country?t.country:"";e(n)}))},utilsScript:"../../public/assets/js/inttel/js/utils.min.js"}),r=function(){e.classList.remove("error"),t.innerHTML="",t.classList.add("d-none"),n.classList.add("d-none")};e.addEventListener("blur",(function(){if(r(),e.value.trim())if(a.isValidNumber())n.classList.remove("d-none");else{e.classList.add("error");var i=a.getValidationError();t.innerHTML=o[i],t.classList.remove("d-none")}})),e.addEventListener("change",r),e.addEventListener("keyup",r),"undefined"!=typeof phoneNo&&""!==phoneNo&&setTimeout((function(){$("#phoneNumber").trigger("change")}),500),$("#phoneNumber").on("blur keyup change countrychange",(function(){"undefined"!=typeof phoneNo&&""!==phoneNo&&(a.setNumber("+"+phoneNo),phoneNo="");var e=a.selectedCountryData.dialCode;$("#prefix_code").val(e)}));var i=a.selectedCountryData.dialCode;$("#prefix_code").val(i);var s=$("#phoneNumber").val().replace(/\s/g,"");$("#phoneNumber").val(s),$("#phoneNumber").focus(),$("#phoneNumber").trigger("blur")}()})),listenClick(".iti__country",(function(){var e=$(".iti__selected-flag>.iti__flag").attr("class");e=e.split(/\s+/)[1];var t=$(".iti__selected-dial-code").text();window.localStorage.setItem("flagClassLocal",e),window.localStorage.setItem("dialCodeValLocal",t)})),document.addEventListener("DOMContentLoaded",(function(){if($("#calendar").length){var e=$("#calendar").evoCalendar({theme:"Royal Navy",format:"yyyy-mm-dd",calendarEvents:eventSchedules});$("#calendar").evoCalendar("selectDate",moment().tz(currentUTCDate).format("LL")),$("#calendar").evoCalendar("selectMonth",months),$("#calendar").evoCalendar("selectYear",year),moment().tz(currentUTCDate).format("Y-M-D");var t=year,n=parseInt(parseInt(months)+1),o=moment(n,"M").format("MMMM");$(e).on("selectMonth",(function(e,n){window.location.href=slotCalendarUrl+"?month="+n+"&year="+t})),$(e).on("selectYear",(function(e,t){window.location.href=slotCalendarUrl+"?month="+o+"&year="+t})),$(e).on("selectDate",(function(e,t){})),$("#calendar").on("selectEvent",(function(e,t){var n=$("#calendar").evoCalendar("getActiveDate"),o=$("#calendar").evoCalendar("getActiveEvents"),a=t.id,r="",i="";$.each(o,(function(e,t){a===t.id&&(r=t.name,i=t.originalTime)})),window.location.href=slotCalendarUrl+"/"+n+"?time="+r+"&originalTime="+i}))}})),(()=>{document.addEventListener("DOMContentLoaded",(function(){if(!$("#phoneNumber").length)return!1;var e=document.querySelector("#phoneNumber"),t=document.querySelector("#error-msg"),n=document.querySelector("#valid-msg");$("#valid-msg").length>0&&setTimeout((function(){$("#valid-msg").addClass("d-none")}),10);var o=[Lang.get("js.invalid_number"),Lang.get("js.invalid_country_code"),Lang.get("js.too_short"),Lang.get("js.too_long"),Lang.get("js.invalid_number")],a=window.intlTelInput(e,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,geoIpLookup:function(e,t){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){var n=t&&t.country?t.country:"";e(n)}))},utilsScript:"../../public/assets/js/inttel/js/utils.min.js"}),r=function(){e.classList.remove("error"),t.innerHTML="",t.classList.add("d-none"),n.classList.add("d-none")};e.addEventListener("blur",(function(){if(r(),e.value.trim())if(a.isValidNumber())n.classList.remove("d-none");else{e.classList.add("error");var i=a.getValidationError();t.innerHTML=o[i],t.classList.remove("d-none")}})),e.addEventListener("change",r),e.addEventListener("keyup",r),"undefined"!=typeof phoneNo&&""!==phoneNo&&setTimeout((function(){$("#phoneNumber").trigger("change")}),500);$("#phoneNumber").on("blur keyup change countrychange",(function(){"undefined"!=typeof phoneNo&&""!==phoneNo&&(a.setNumber("+"+phoneNo),phoneNo="");var e=a.selectedCountryData.dialCode;$("#prefix_code").val(e)}));var i=a.selectedCountryData.dialCode;$("#prefix_code").val(i);var s=$("#phoneNumber").val().replace(/\s/g,"");$("#phoneNumber").val(s),$("#phoneNumber").focus(),$("#phoneNumber").trigger("blur")}));var e="";listenSubmit("#addEventSlotScheduleForm",(function(t){t.preventDefault();var n=[];if(1==locationMeta[1]){if(""==$("#phoneNumber").val())return $("#phoneNumber").focus(),displayErrorMessage(Lang.get("js.phone_required")),!1;n.push(eventLocation),n.push(locationMeta[1]),n.push("+"+$("#prefix_code").val()+$("#phoneNumber").val()),$("#eventLocationPhoneCall").val(JSON.stringify(n))}e=$("#slotPaymentType").val();var o=$(this).find("#slotPaymentSubmitBtn");setBtnLoader(o),$.ajax({url:route("scheduled-events.store"),type:"POST",data:$(this).serialize(),success:function(t){if(t.success){var n=t.data.scheduleEventId,o=t.data.redirectUrl;if(t.data.eventType==Paid){if(1==e){var a=t.data[0].sessionId;stripe.redirectToCheckout({sessionId:a}).then((function(e){manageAjaxErrors(e.message)}))}else if(2==e)$.ajax({type:"GET",url:route("paypal.init"),data:{scheduleEventId:n},success:function(e){if("CREATED"==e.status){var t="";$.each(e.links,(function(e,n){"approve"==n.rel&&(t=n.href)})),location.href=t}else location.href=e.url}});else if(3==e)$.ajax({type:"GET",url:route("paystack.init"),data:{scheduleEventId:n},success:function(e){e.url?location.href=e.url:location.href=e.data.url}});else if(4==e){var r=$('meta[name="csrf-token"]').attr("content");$.ajax({type:"POST",url:route("user.event.razorpay.init"),data:{scheduleEventId:n,_token:r},success:function(e){if(e.url&&(window.location.href=e.url),e.success){console.log(e.data);var t=e.data,n=t.id,o=t.amount,a=t.name,r=t.email,i=t.contact,s=t.scheduleEventId;options.amount=o,options.order_id=n,options.prefill.name=a,options.prefill.email=r,options.prefill.contact=i,options.prefill.scheduleEventId=s,new Razorpay(options).open()}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})}}else $("#addEventSlotScheduleForm")[0].reset(),displaySuccessMessage(t.message),window.location.href=o}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){setBtnLoader(o)}})}))})(),listenClick("#nextMonth",(function(){var e={date:$(this).attr("data-next-month")};Livewire.dispatch("changeMonth",{date:e})})),listenClick("#prevMonth",(function(){var e={date:$(this).attr("data-prev-month")};Livewire.dispatch("changeMonth",{date:e})})),listenClick(".get-slots",(function(){var e=$(this).attr("date-slot-date");Livewire.dispatch("getSlotTime",{slotDate:moment(e).format("YYYY-MM-DD")})})),(()=>{"use strict";$(document).ready((function(){window.loginCredential=function(e,t){$("#email").val(e),$("#password").val(t)},$(document).on("click","#adminLogin",(function(){loginCredential("admin@infycal.com","123456")})),$(document).on("click","#userLogin",(function(){loginCredential("user@infycal.com","123456")}))}))})()})();